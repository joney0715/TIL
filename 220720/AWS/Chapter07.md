# 7-4 CloudWatch 경보

- CloudWatch  경보는 단일 지표를 감시하고 일정 기간 동안 해당 지표를 감시하고 일정 기간 동안 행당 지표에 대해 경보를 생성 가능
- 이를 받은 CloudWatch는 메일 알림, 인스턴스 재부팅, Auto Scaling 등의 작업 가능



## 모니터링할 데이터 포인트

- 통계값으로 백분위를 사용할 때
  - 통계적으로 유의미한 데이터 포인트 수가 누적될 때까지 경보가 전송된 데이터 포인트를 무시할지 선택
  - 통계적으로 유의미하기 위해서 백분위를 설정 필요

### 

## 임계값

- 임계값은 모니터링할 데이터 포인트가 특정 기준을 충족하거나 문제가 발생했다는 것을 알려주는 값
- 경보의 트리거 역할



## 경보 상태

- 경보에는 3가지 상태가 있음
  - ALARM : 경보에 대한 데이터 포인트가 일정 시간 동안 지정된 임계값을 초과한 경우
  - OK : 경보에 대한 데이터 포인트가 일정 시간 동안 지정된 임계값 범위에 있는 경우
  - INSUFFICIENT_DATA : 경보에 대한 데이터 포인트가 지정된 임계값을 넘었는지를 결정하기에 충분한 데이터를 확보 못한 경우
- 새로운 경보는 INSUFFICIENT_DATA 상태에서 시작



## 경보에 대한 데이터 포인트와 평가 기간

- 경보에 대한 데이터 포인트에 따라 경보 상태를 변경하는 경우, 데이터 포인트가 임계값을 초과한 뒤 유지되는 기간에 따라 달라짐
- 경보에 대한 데이터 포인트와 같거나 큰 평가 기간을 설정해야 하는 경우
  - 모니터링할 데이터 포인트가 주기적으로 임계값을 넘지만 계속 유지되는 것은 아닐 때 트리거를 해야할 때
- CloudWatch가 연속적은 데이터 포인트 45, 30, 25를 평가한 결과
  - 3개 데이터 포인터 중 2개가 임계값 아래로 떨어지므로 경보는 ALARM 상태로 전환
  - CloudWatch는 경보 상태를 변경하기 전에 3개 데이터 포인트를 평가





